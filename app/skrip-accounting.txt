package, bitbucket.org/mirzaakhena/zappsample

table, User
field, Name, string
field, Email, string
field, Password, string
field, Token, string
field, Status, string
endtable

table, Space
field, Name, string
field, Description, string
field, Status, string
endtable


type Account struct {
	adminModel.BaseModel
	SpaceID         string `json:"-"`         //
	Code            string `json:"code"`      //
	Name            string `json:"name"`      //
	Level           int    `json:"level"`     //
	Side            string `json:"side"`      // ACTIVA | PASSIVA
	ChildType       string `json:"childType"` // AKUN | SUBAKUN | INVENTORY
	ParentAccountID string `json:"-"`         //
}

type Subaccount struct {
	adminModel.BaseModel
	SpaceID   string   `json:"-"`       //
	AccountID string   `json:"-"`       //
	Account   *Account `json:"account"` //
	ChildID   string   `json:"childId"` //
	Code      string   `json:"code"`    //
	Name      string   `json:"name"`    //
}

type Inventory struct {
	adminModel.BaseModel
	SpaceID         string      `json:"-"`               //
	SubaccountID    string      `json:"-"`               //
	Subaccount      *Subaccount `json:"subaccount"`      //
	Unit            string      `json:"unit"`            //
	Method          string      `json:"method"`          //
	MinimalQuantity int         `json:"minimalQuantity"` //
}

type AccountBalance struct {
	ID        string    `json:"id"`        //
	SpaceID   string    `json:"-"`         //
	JournalID string    `json:"-"`         //
	Journal   *Journal  `json:"journal"`   //
	Date      time.Time `json:"date"`      //
	Sequence  int       `json:"sequence"`  //
	Direction string    `json:"direction"` // DEBET | CREDIT
	AccountID string    `json:"-"`         //
	Account   *Account  `json:"account"`   //
	Amount    float64   `json:"amount"`    //
	Balance   float64   `json:"balance"`   //
}

type SubaccountBalance struct {
	ID           string      `json:"id"`         //
	SpaceID      string      `json:"-"`          //
	JournalID    string      `json:"-"`          //
	Journal      *Journal    `json:"journal"`    //
	Date         time.Time   `json:"date"`       //
	Sequence     int         `json:"sequence"`   //
	Direction    string      `json:"direction"`  // DEBET | CREDIT
	SubaccountID string      `json:"-"`          //
	Subaccount   *Subaccount `json:"subaccount"` //
	Amount       float64     `json:"amount"`     //
	Balance      float64     `json:"balance"`    //
}

type InventoryBalance struct {
	ID                string     `json:"id"`                //
	SpaceID           string     `json:"-"`                 //
	JournalID         string     `json:"-"`                 //
	Journal           *Journal   `json:"journal"`           //
	Date              time.Time  `json:"date"`              //
	Sequence          int        `json:"sequence"`          //
	Direction         string     `json:"direction"`         // DEBET | CREDIT
	InventoryID       string     `json:"-"`                 //
	Inventory         *Inventory `json:"inventory"`         //
	AmountQuantity    int        `json:"amountQuantity"`    //
	AmountPrice       float64    `json:"amountPrice"`       //
	AmountTotalPrice  float64    `json:"amountTotalPrice"`  //
	BalanceQuantity   int        `json:"balanceQuantity"`   //
	BalancePrice      float64    `json:"balancePrice"`      //
	BalanceTotalPrice float64    `json:"balanceTotalPrice"` //
}

type Journal struct {
	ID              string           `json:"id" gorm:"primary_key"` //
	Date            time.Time        `json:"date"`                  //
	SpaceID         string           `json:"-"`                     //
	UserID          string           `json:"-"`                     //
	User            *model.User      `json:"user"`                  //
	Code            string           `json:"code"`                  //
	TemplateCode    string           `json:"templateCode"`          //
	Description     string           `json:"description"`           //
	AccountBalances []AccountBalance `json:"accountBalances"`       //
}
